<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录</title>
    <script src="./js/vue.js"></script>
    <link rel="stylesheet" href="./js/element-ui/lib/theme-chalk/index.css">
    <script src="./js/element-ui/lib/index.js"></script>
    <link rel="stylesheet" href="./css/login.css">
</head>

<body>
    <div id="app" class="container">
        <h3>{{title}}</h3>

        <el-form ref="form" label-width="80px">
            <el-form-item label="账号：">
                <el-input v-model="name" clearable placeholder="账号"></el-input>
            </el-form-item>
            <el-form-item label="密码：">
                <el-input type="password" v-model="password" autocomplete="off" show-password clearable placeholder="密码"></el-input>
            </el-form-item>
        </el-form>
        <div class="btn-group">
            <el-button type="primary" @click="login()">登录</el-button>
            <el-button @click="reset()">重置</el-button>
        </div>
    </div>
    <script src="./js/data.js"></script>
    <script>
        let app = new Vue({
            el: "#app",
            data() {
                return {
                    title,
                    name: "",
                    password: "",
                }
            },
            mounted() {
                this.initPage()
            },
            methods: {
                initPage(){
                    localStorage.removeItem("token");
                    if(bg){
                        document.body.style.backgroundImage = `url(${bg})`;
                        document.body.style.backgroundRepeat = "no-repeat";
                        document.body.style.backgroundSize = "100% 100%";
                        document.body.style.backgroundAttachment = "fixed";
                        document.body.style.backgroundPosition = "center";
                    }
                    if(bgColor){
                        document.body.style.backgroundColor = bgColor;
                    }
                },
               
                login() {
                    if (this.name == "" || this.password == "") {
                        return this.$message.error("账号或密码不能为空");
                    }
                    if (this.name == name && this.password == password) {
                        this.$message.success("登录成功");
                        localStorage.setItem("token", "123456");
                        setTimeout(() => {
                            window.location.href = "./html/home.html";
                        }, 500);
                        return
                    } else {
                        return this.$message.error("账号或密码错误");
                    }
                },
                reset() {
                    this.name = "";
                    this.password = "";
                }
            }

        })
    </script>
</body>

</html>